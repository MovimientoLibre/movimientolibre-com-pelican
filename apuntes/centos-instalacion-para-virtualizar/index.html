<!doctype html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Pelican Static Site Generator, Powered by Python" />
    <meta name="description" content="Instalar CentOS con lo mínimo necesario para virtualizar con KVM. Teniendo en mente que sólo va a llegar a Terminal, es decir, sin interfaz gráfica o GUI. La administración será vía OpenSSH y por el Administrador de Virtualizaciones desde otro equipo.">
    <meta name="keywords" content="software libre, apuntes">
    <meta name="author" content="Guillermo Valdés Lozano (guivaloz)">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@guivaloz">
    <meta name="twitter:title" content="Instalación de CentOS para virtualizar">
    <meta name="twitter:description" content="Instalar CentOS con lo mínimo necesario para virtualizar con KVM. Teniendo en mente que sólo va a llegar a Terminal, es decir, sin interfaz gráfica o GUI. La administración será vía OpenSSH y por el Administrador de Virtualizaciones desde otro equipo.">
    <meta name="twitter:image" content="https://movimientolibre.com/apuntes/centos-instalacion-para-virtualizar/centos-logo-icon.png">
    <meta property="og:title" content="Instalación de CentOS para virtualizar">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://movimientolibre.com/apuntes/centos-instalacion-para-virtualizar/">
    <meta property="og:image" content="https://movimientolibre.com/apuntes/centos-instalacion-para-virtualizar/centos-logo-icon.png">
    <meta property="og:description" content="Instalar CentOS con lo mínimo necesario para virtualizar con KVM. Teniendo en mente que sólo va a llegar a Terminal, es decir, sin interfaz gráfica o GUI. La administración será vía OpenSSH y por el Administrador de Virtualizaciones desde otro equipo.">
    <meta property="og:site_name" content="Movimiento Libre">
    <title>Instalación de CentOS para virtualizar - Movimiento Libre</title>
    <link rel="shortcut icon" type="image/x-icon" href="https://movimientolibre.com/favicon.ico" />
    <link rel="icon" href="https://movimientolibre.com/theme/images/icon-hires.png" sizes="192x192" />
    <link rel="icon" href="https://movimientolibre.com/theme/images/icon-normal.png" sizes="128x128" />
    <link rel="apple-touch-icon" href="https://movimientolibre.com/theme/images/apple-touch-icon.png" />
    <link rel="apple-touch-icon" href="https://movimientolibre.com/theme/images/apple-touch-icon-76x76.png" sizes="76x76" />
    <link rel="apple-touch-icon" href="https://movimientolibre.com/theme/images/apple-touch-icon-120x120.png" sizes="120x120" />
    <link rel="apple-touch-icon" href="https://movimientolibre.com/theme/images/apple-touch-icon-152x152.png" sizes="152x152" />
    <link rel="apple-touch-icon" href="https://movimientolibre.com/theme/images/apple-touch-icon-180x180.png" sizes="180x180" />
<link rel="alternate" href="https://movimientolibre.com/feeds/all.rss.xml" type="application/rss+xml" title="Movimiento Libre Full RSS Feed" /><script async src="https://www.googletagmanager.com/gtag/js?id=UA-74263253-1"></script><script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-74263253-1'); </script>    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.3/css/bootstrap.min.css" integrity="sha512-GQGU0fMMi238uA+a/bdWJfpUGKUkBdgfFdgBm72SUQ6BeyWjoY/ton0tEjH+OSH9iP4Dfh+7HM0I9f5eR0L/4w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans&display=swap" />
    <link rel="stylesheet" href="https://movimientolibre.com/theme/css/movimientolibre-bs5.css" />
</head>
<body>
<nav id="navigationBase" class="navbar navbar-expand-sm fixed-top">
    <div class="container">
        <a class="navbar-brand" href="https://movimientolibre.com/"><i class="fa fa-home"></i></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navigationCollapse" aria-controls="navigationCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="fas fa-bars"></span>
        </button>
        <div class="collapse navbar-collapse" id="navigationCollapse">
            <ul class="navbar-nav me-auto mb-2 mb-sm-0">
                <li class="nav-item"><a class="nav-link" href="https://movimientolibre.com/category/apuntes.html">Apuntes</a></li>
                <li class="nav-item"><a class="nav-link" href="https://movimientolibre.com/category/articulos.html">Artículos</a></li>
                <li class="nav-item"><a class="nav-link" href="https://movimientolibre.com/category/presentaciones.html">Presentaciones</a></li>
            </ul>
            <ul class="navbar-nav">
                <li><a class="mx-2" href="https://twitter.com/guivaloz/" target="_blank"><i class="fab fa-twitter-square fa-2x"></i></a></li>
                <li><a class="mx-2" href="https://www.facebook.com/movimientolibrepuntocom/" target="_blank"><i class="fab fa-facebook-square fa-2x"></i></a></li>
                <li><a class="mx-2" href="https://github.com/movimientolibre" target="_blank"><i class="fab fa-github-square fa-2x"></i></a></li>
<li><a class="mx-2" href="https://movimientolibre.com/feeds/all.rss.xml"><i class="fa fa-rss-square fa-2x"></i></a></li>            </ul>
    </div>
    </div>
</nav><header id="headerSite" class="mb-4">
    <div id="headerSiteImage" class="container" itemscope itemtype="http://schema.org/Organization">
        <div class="row">
            <div class="col-xl-8">
                <h1 class="display-2" itemprop="name">Movimiento Libre</h1>
                <p class="lead" itemprop="description">Plataforma de divulgación de conocimiento</p>
            </div>
        </div>
    </div>
</header>    <div class="container">
        <div class="row">
            <div class="col-lg-8">
    <article>
        <script type="application/ld+json">
            {
                "@context": "http://schema.org",
                "@type": "Article",
                "publisher": {
                    "@type": "Organization",
                    "name": "Movimiento Libre",
                    "logo": {
                        "@type": "ImageObject",
                        "url": "https://movimientolibre.com/theme/images/movimientolibre.png"
                    },
                    "url": "https://movimientolibre.com"
                },
                "author": "Guillermo Valdés Lozano (guivaloz)",
                "name": "Instalación de CentOS para virtualizar",
                "headline": "Instalación de CentOS para virtualizar",
                "description": "Instalar CentOS con lo mínimo necesario para virtualizar con KVM. Teniendo en mente que sólo va a llegar a Terminal, es decir, sin interfaz gráfica o GUI. La administración será vía OpenSSH y por el Administrador de Virtualizaciones desde otro equipo.",
                "dateCreated": "2014-01-30 10:20:00-06:00",
                "datePublished": "2014-01-30 10:20:00-06:00",
                "dateModified": "2014-01-30 10:20:00-06:00",
                "image": "https://movimientolibre.com/apuntes/centos-instalacion-para-virtualizar/centos-logo-icon.png",
                "url": "https://movimientolibre.com/apuntes/centos-instalacion-para-virtualizar/"
            }
        </script>
        <h2>Instalación de CentOS para virtualizar</h2>
        <p class="lead">Instalar CentOS con lo mínimo necesario para virtualizar con KVM. Teniendo en mente que sólo va a llegar a Terminal, es decir, sin interfaz gráfica o GUI. La administración será vía OpenSSH y por el Administrador de Virtualizaciones desde otro equipo.</p>
        <p>30 January 2014</p>
        <p><a href="https://www.centos.org/">CentOS</a> es una distribución GNU/Linux mantenida por la comunidad a partir del código libre de <a href="https://www.redhat.com/">Red Hat</a>. De una forma práctica, <strong>CentOS</strong> es lo mismo que <strong>Red Hat</strong> pero sin su marca comercial ni soporte técnico de paga. La estabilidad y confiabilidad de CentOS lo hacen la mejor opción para sistema operativo base de un servidor cuyo fin sea virtualizar. Recientemente se ha anunciado el apoyo directo de Red Hat a la comunidad de CentOS; de lo cual esperamos muchas ganancias para todos.</p>
<h3>Objetivo</h3>
<p>Instalar CentOS con lo mínimo necesario para virtualizar con KVM. Teniendo en mente que sólo va a llegar a Terminal, es decir, sin interfaz gráfica o <em>GUI</em>. La administración será vía <strong>OpenSSH</strong> y por el <strong>Administrador de Virtualizaciones</strong> desde otro equipo.</p>
<h3>Requerimientos</h3>
<ul>
<li>Una computadora o servidor con capacidad para virtualizar en hardware. Consulte el sitio del <a href="http://www.linux-kvm.org/page/Main_Page">KVM</a> para saber más.</li>
<li>Un mínimo de 2 GB de RAM.</li>
<li>Disco duro dedicado de por lo menos 100 GB.</li>
<li>Descargar y quemar el CD Minimal de <a href="https://www.centos.org/">CentOS</a>.</li>
</ul>
<h3>Arranque con el CD Minimal</h3>
<p>Hay varios tipos de discos ISO de CentOS para cada versión. Desde DVD completos a CD para instarar por red. Su servidor recomienda usar el <strong>CD Minimal x86_64</strong> ya que contiene lo básico para llegar a una terminal. Considere que es poco útil y riesgoso tener una interfaz gráfica en un servidor.</p>
<p>Durante la instalación elija estas opciones:</p>
<ul>
<li>GRUB: Install or Update</li>
<li>Idioma: Spanish</li>
<li>Teclado: Latinoamericano</li>
<li>Special Storage Devices</li>
<li>Use All Space</li>
</ul>
<p>Ya que haga su primer arranque, a partir de lo instalado en el disco duro, continúe con los siguientes pasos.</p>
<h3>Levante la red</h3>
<p>Por defecto no levanta ningún dispositivo de red. Como partimos del <strong>CD Minimal</strong> necesitaremos salida a internet para bajar el software. Para configurar el dispositivo de red <strong>eth0</strong> edite:</p>
<div class="highlight"><pre><span></span><code># cd /etc/sysconfig/network-scripts
# vi ifcfg-eth0
</code></pre></div>

<p>Si quiere usar una <strong>dirección IP fija</strong>, por ejemplo 192.168.0.250 con ruteador 192.168.0.254 (conserve el <strong>HWADDR</strong>):</p>
<div class="highlight"><pre><span></span><code>DEVICE=eth0
HWADDR=xx:xx:xx:xx:xx:xx
TYPE=Ethernet
ONBOOT=yes
NM_CONTROLLED=no
IPADDR=192.168.0.250
NETMASK=255.255.255.0
GATEWAY=192.168.0.254
</code></pre></div>

<p>Luego debe configurar cuáles serán sus servidores DNS:</p>
<div class="highlight"><pre><span></span><code>vi /etc/resolv.conf
</code></pre></div>

<p>Escriba el dominio si lo usa, luego cada servidor DNS como una línea <em>nameserver</em>. En el siguiente ejemplo se usa un dominio <em>oficina.lan</em> y las direcciones IP de los <a href="https://developers.google.com/speed/public-dns/?hl=es-">DNS de Google</a>:</p>
<div class="highlight"><pre><span></span><code>domain oficina.lan
search oficina.lan
nameserver 8.8.8.8
nameserver 8.8.4.4
</code></pre></div>

<p>En cambio, para solicitar una <strong>dirección IP dinámica</strong> al servidor DHCP se usa <strong>BOOTPROTO</strong>:</p>
<div class="highlight"><pre><span></span><code>DEVICE=eth0
HWADDR=xx:xx:xx:xx:xx:xx
TYPE=Ethernet
ONBOOT=yes
NM_CONTROLLED=no
BOOTPROTO=dhcp
</code></pre></div>

<p>Después de cambiar estos archivos de configuración, reinicie el servicio de red para hacerlos efectivos.</p>
<div class="highlight"><pre><span></span><code># service network restart
</code></pre></div>

<p>Revise la dirección IP obtenida con:</p>
<div class="highlight"><pre><span></span><code># ifconfig eth0
</code></pre></div>

<p>Revise la tabla de ruteo también:</p>
<div class="highlight"><pre><span></span><code># route -n
</code></pre></div>

<h3>Configure proxy de ser necesario</h3>
<p>En caso de tener internet a través de un <em>proxy</em> debe de editar el archivo de configuración de <strong>Yum</strong>:</p>
<div class="highlight"><pre><span></span><code># vi /etc/yum.conf
</code></pre></div>

<p>Agregue una línea como la siguiente para definir el servidor <em>proxy</em>. Cambie <em>proxy.oficina.lan</em> por el nombre o dirección IP del <em>proxy</em>.</p>
<div class="highlight"><pre><span></span><code>proxy=http://proxy.oficina.lan:3128
</code></pre></div>

<h3>Actualize e instale el software para virtualizar</h3>
<p>Ejecute estos dos comandos para actualizar las listas de los repositorios de CentOS:</p>
<div class="highlight"><pre><span></span><code># yum check-update
# yum update
</code></pre></div>

<p>Por ser programas indispensables, instale <strong>nano</strong>, <strong>sudo</strong> y <strong>man</strong>:</p>
<div class="highlight"><pre><span></span><code># yum install nano sudo man
</code></pre></div>

<p>Yum ofrece la instalación por <strong>grupos</strong>, éstos son conjuntos de paquetes de software. Para listar los <strong>grupos</strong> ejecute este comando:</p>
<div class="highlight"><pre><span></span><code># yum grouplist
</code></pre></div>

<p>Instale los <strong>grupos</strong> de paquetes que tienen que ver con virtualización en servidor:</p>
<div class="highlight"><pre><span></span><code># yum groupinstall &quot;Virtualización&quot;
# yum groupinstall &quot;Plataforma de virtualización&quot;
# yum install tunctl
</code></pre></div>

<p>Esta descarga es grande y puede demorar algo de tiempo, dependiendo de su velocidad de internet. Al terminar de instalar reinicie el servidor para asegurar que las actualizaciones y el nuevo software estén trabajando. Reinicie con:</p>
<div class="highlight"><pre><span></span><code>#<span class="w"> </span><span class="nv">shutdown</span><span class="w"> </span><span class="o">-</span><span class="nv">r</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&amp;</span>
#<span class="w"> </span><span class="k">exit</span>
</code></pre></div>

<h3>Configuración del bridge</h3>
<p>Cree el archivo <strong>ifcfg-br0</strong> con la configuración para el <em>bridge</em>:</p>
<div class="highlight"><pre><span></span><code># cd /etc/sysconfig/network-scripts/
# nano ifcfg-br0
</code></pre></div>

<p>Si <strong>br0</strong> va a tener una dirección IP estática, use lo siguiente como contenido del archivo <strong>ifcfg-br0</strong> ajustando la dirección IP, la máscara y el <em>gateway</em> a sus necesidades:</p>
<div class="highlight"><pre><span></span><code>DEVICE=br0
TYPE=Bridge
ONBOOT=yes
DELAY=0
NM_CONTROLLED=no
IPADDR=192.168.0.250
NETMASK=255.255.255.0
GATEWAY=192.168.0.254
</code></pre></div>

<p>Luego, hay que editar el archivo <strong>ifcfg-eth0</strong> para indicar que ese dispositivo de red se va conectar al <em>bridge</em>:</p>
<div class="highlight"><pre><span></span><code># nano ifcfg-eth0
</code></pre></div>

<p>Con este contenido:</p>
<div class="highlight"><pre><span></span><code>DEVICE=&quot;eth0&quot;
HWADDR=&quot;xx:xx:xx:xx:xx:xx&quot;
NM_CONTROLLED=&quot;no&quot;
ONBOOT=&quot;yes&quot;
BRIDGE=&quot;br0&quot;
</code></pre></div>

<h3>Configure el muro de fuego</h3>
<p>Para que se permitan todas las comunicaciones que fluyan a través del <em>bridge</em> <strong>br0</strong> es necesario indicarlo. Edite la configuración del muro de fuego:</p>
<div class="highlight"><pre><span></span><code># cd /etc/sysconfig/
# nano iptables
</code></pre></div>

<p>Agregue la línea <strong>-A FORWARD -i br0 -j ACCEPT</strong> como la primer línea con <em>FORWARD</em>, por ejemplo:</p>
<div class="highlight"><pre><span></span><code>*filter
:INPUT ACCEPT [0:0]
:FORWARD ACCEPT [0:0]
:OUTPUT ACCEPT [0:0]
-A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT
-A INPUT -p icmp -j ACCEPT
-A INPUT -i lo -j ACCEPT
-A INPUT -m state --state NEW -m tcp -p tcp --dport 22 -j ACCEPT
-A INPUT -j REJECT --reject-with icmp-host-prohibited
-A FORWARD -i br0 -j ACCEPT
-A FORWARD -j REJECT --reject-with icmp-host-prohibited
COMMIT
</code></pre></div>

<p>Reinicie el muro de fuego</p>
<div class="highlight"><pre><span></span><code># service iptables restart
</code></pre></div>

<p>Verifique...</p>
<div class="highlight"><pre><span></span><code># iptables -L -v -n
</code></pre></div>

<h3>Destruir el puente virbr0</h3>
<p>Como se va a levantar el <em>bridge</em> <strong>br0</strong> desde el sistema operativo, sale sobrando el puente que por defecto habilita <strong>libvirt</strong>. Para observar que esta presente <strong>virtbr0</strong> ejecute:</p>
<div class="highlight"><pre><span></span><code># ifconfig
</code></pre></div>

<p>Notará que hay un dispositivo <strong>virbr0</strong> con una dirección IP indpenediente (p.e. 192.168.122.1). El comando <strong>virsh net-list</strong> mostrará las redes para las virtualizaciones:</p>
<div class="highlight"><pre><span></span><code># virsh net-list
Nombre               Estado     Inicio automático Persistente
--------------------------------------------------
default              activo     si            si
</code></pre></div>

<p>Para destruir la red <strong>default</strong> ejecute:</p>
<div class="highlight"><pre><span></span><code># virsh net-destroy default
# virsh net-undefine default
</code></pre></div>

<p>Revise:</p>
<div class="highlight"><pre><span></span><code># virsh net-list
# ifconfig
</code></pre></div>

<h3>Reinicie el servidor</h3>
<p>Para asegurar que las actualizaciones y configuraciones inicien al encender, reinicie el servidor.</p>
<div class="highlight"><pre><span></span><code>#<span class="w"> </span><span class="nv">shutdown</span><span class="w"> </span><span class="o">-</span><span class="nv">r</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&amp;</span>
#<span class="w"> </span><span class="k">exit</span>
</code></pre></div>

<p>Y revise que los dispositivos de red y los servicios estén trabajando como debe.</p>
<div class="highlight"><pre><span></span><code>#<span class="w"> </span><span class="nv">ifconfig</span><span class="w"> </span><span class="nv">br0</span>
#<span class="w"> </span><span class="nv">ifconfig</span><span class="w"> </span><span class="nv">eth0</span>
#<span class="w"> </span><span class="nv">brctl</span><span class="w"> </span><span class="k">show</span>
</code></pre></div>

<h3>Configurar libvirt para que use br0</h3>
<p>Para que las virtualizaciones usen el <em>bridge</em> del sistema operativo, cree un archivo de configuración <strong>xml</strong>. Use el nombre de archivo que guste:</p>
<div class="highlight"><pre><span></span><code><span class="c"># cd /root</span>
<span class="c"># nano bridge-br0.xml</span>
</code></pre></div>

<p>Escriba el siguiente contenido, cambiando <strong>bridge-br0</strong> por el nombre que usted prefiera:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;network&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>bridge-br0<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;forward</span><span class="w"> </span><span class="na">mode=</span><span class="s">&quot;bridge&quot;</span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;bridge</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;br0&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/network&gt;</span>
</code></pre></div>

<p>Para cargar ese archivo <strong>xml</strong> en <strong>libvirt</strong> ejecute...</p>
<div class="highlight"><pre><span></span><code><span class="c"># virsh net-define bridge-br0.xml</span>
<span class="n">La red bridge-br0 se encuentra definida desde bridge-br0.xml</span>
</code></pre></div>

<p><strong>Atención:</strong> En este momento, el comando <strong># virsh net-list</strong> NO mostrará esta red. En cambio, con el parámetro <strong>--all</strong> sí lo verá:</p>
<div class="highlight"><pre><span></span><code># virsh net-list --all
Nombre               Estado     Inicio automático
-----------------------------------------
bridge-br0           activo     no
</code></pre></div>

<p>Puede solicitar información detallada de una red con el comando <strong>virsh net-info</strong> seguido por el nombre de la red.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># virsh net-info bridge-br0</span>
<span class="n">Nombre</span><span class="w">          </span><span class="n">bridge</span><span class="o">-</span><span class="n">br0</span>
<span class="n">UUID</span><span class="w">            </span><span class="n">xxxxxxxx</span><span class="o">-</span><span class="n">xxxx</span><span class="o">-</span><span class="n">xxxx</span><span class="o">-</span><span class="n">xxxx</span><span class="o">-</span><span class="n">xxxxxxxxxxxx</span>
<span class="n">Activar</span><span class="p">:</span><span class="w">        </span><span class="n">no</span>
<span class="n">Persistente</span><span class="p">:</span><span class="w">    </span><span class="n">si</span>
<span class="n">Autoinicio</span><span class="p">:</span><span class="w">     </span><span class="n">no</span>
<span class="n">Puente</span><span class="p">:</span><span class="w">         </span><span class="n">br0</span>
</code></pre></div>

<p>Observe que Activar y Autoinicio están en <strong>no</strong>. Configure que esta red se habilite al inicio, con:</p>
<div class="highlight"><pre><span></span><code># virsh net-autostart bridge-br0
La red bridge-br0-dgspm ha sido marcada para iniciarse automáticamente
</code></pre></div>

<p>Luego, arranque esta red con:</p>
<div class="highlight"><pre><span></span><code># virsh net-start bridge-br0
La red bridge-br0 se ha iniciado
</code></pre></div>

<p>Verifique que Activar, Persistente y Autoinicio estén en <strong>si</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># virsh net-info bridge-br0</span>
<span class="n">Nombre</span><span class="w">          </span><span class="n">bridge</span><span class="o">-</span><span class="n">br0</span>
<span class="n">UUID</span><span class="w">            </span><span class="n">xxxxxxxx</span><span class="o">-</span><span class="n">xxxx</span><span class="o">-</span><span class="n">xxxx</span><span class="o">-</span><span class="n">xxxx</span><span class="o">-</span><span class="n">xxxxxxxxxxxx</span>
<span class="n">Activar</span><span class="p">:</span><span class="w">        </span><span class="n">si</span>
<span class="n">Persistente</span><span class="p">:</span><span class="w">    </span><span class="n">si</span>
<span class="n">Autoinicio</span><span class="p">:</span><span class="w">     </span><span class="n">si</span>
<span class="n">Puente</span><span class="p">:</span><span class="w">         </span><span class="n">br0</span>
</code></pre></div>

<p>También con el comando <strong>virsh net-list</strong>:</p>
<div class="highlight"><pre><span></span><code># virsh net-list
Nombre               Estado     Inicio automático Persistente
--------------------------------------------------
bridge-br0           activo     si            si
</code></pre></div>

<p>En dado caso de que necesite recuperar la información de la red en formato <strong>xml</strong>, use el comando <strong>virsh net-dumpxml</strong>:</p>
<div class="highlight"><pre><span></span><code>#<span class="w"> </span>virsh<span class="w"> </span>net-dumpxml<span class="w"> </span>bridge-br0
<span class="nt">&lt;network&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>bridge-br0<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;uuid&gt;</span>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx<span class="nt">&lt;/uuid&gt;</span>
<span class="w">  </span><span class="nt">&lt;forward</span><span class="w"> </span><span class="na">mode=</span><span class="s">&#39;bridge&#39;</span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;bridge</span><span class="w"> </span><span class="na">name=</span><span class="s">&#39;br0&#39;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="nt">&lt;/network&gt;</span>
</code></pre></div>

<h3>Agregue un usuario común</h3>
<p>Como en todo equipo de escritorio o servidor, es ampliamente recomendable dar de alta un usuario común y no usar root para todo. Para dar de alta un usuario ejecute el comando <strong>useradd</strong> con los grupos a los que necesite pertenecer y cambie <em>minombre</em> por su nombre para ingresar.</p>
<div class="highlight"><pre><span></span><code># useradd -g users -G tty,lp,wheel,uucp,games,video,audio,cdrom,kvm,qemu -m minombre
</code></pre></div>

<p>Establezca la contraseña:</p>
<div class="highlight"><pre><span></span><code># passwd minombre
</code></pre></div>

<h3>Administrador de virtualizaciones</h3>
<p>Desde un equipo con interfaz gráfica y el <strong>VirtManager</strong> instalado administramos las virtaliuzaciones.</p>
<p><img class="img-fluid" src="administrador-virtualizaciones-1.png" alt="Administrador de Virtualizaciones"></p>
<p>Establezca la conexión vía OpenSSH. Le solicitará la contraseña <em>root</em>:</p>
<p><img class="img-fluid" src="administrador-virtualizaciones-2-nueva-conexion.png" alt="Administrador de Virtualizaciones nueva conexion"></p>
<p>Verifique que en los detalles se use la configuración de red con el <em>bridge</em> <strong>br0</strong>:</p>
<p><img class="img-fluid" src="administrador-virtualizaciones-3-detalles-redes.png" alt="Administrador de Virtualizaciones detalle"></p>
    </article>
            </div>
            <div class="col-lg-4">
                <aside>
<div id="asideAbout" class="card border-0">
    <div class="card-body">
        <h3 class="card-title mt-0">A cerca de</h3>
        <p class="card-text">
            Este es un sitio web que busca divulgar
            conocimiento y promover el uso de software libre.
            Su creador es reconocido como desarrollador que
            fabrica estas herramientas tanto para entidades
            públicas como privadas.
        </p>
        <a href="/portafolio/contacto/" class="card-link">Contacto</a>
    </div>
</div><div id="asideSearch" class="card border-0">
    <div class="card-body">
        <h3 class="card-title mt-0">Buscador</h3>
        <p class="card-text">
            <script> (function() { var cx = '015464194519155410478:jqayrodgycs'; var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true; gcse.src = 'https://cse.google.com/cse.js?cx=' + cx; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s); })(); </script>
            <gcse:search></gcse:search>
        </p>
    </div>
</div><div id="asideTags" class="card border-0">
    <div class="card-body">
        <h3 class="card-title mt-0">Etiquetas</h3>
        <ul class="list-group list-group-flush">
<li class="list-group-item"><a href="https://movimientolibre.com/tag/astronomia.html">astronomía</a></li><li class="list-group-item"><a href="https://movimientolibre.com/tag/ciencia-de-datos.html">ciencia de datos</a></li><li class="list-group-item"><a href="https://movimientolibre.com/tag/conferencias.html">conferencias</a></li><li class="list-group-item"><a href="https://movimientolibre.com/tag/contenedores.html">contenedores</a></li><li class="list-group-item"><a href="https://movimientolibre.com/tag/desarrollo.html">desarrollo</a></li><li class="list-group-item"><a href="https://movimientolibre.com/tag/educacion.html">educación</a></li><li class="list-group-item"><a href="https://movimientolibre.com/tag/fedora.html">fedora</a></li><li class="list-group-item"><a href="https://movimientolibre.com/tag/flisol.html">flisol</a></li><li class="list-group-item"><a href="https://movimientolibre.com/tag/gentoo-linux.html">gentoo linux</a></li><li class="list-group-item"><a href="https://movimientolibre.com/tag/gis.html">gis</a></li><li class="list-group-item"><a href="https://movimientolibre.com/tag/git.html">git</a></li><li class="list-group-item"><a href="https://movimientolibre.com/tag/gnu-linux.html">gnu linux</a></li><li class="list-group-item"><a href="https://movimientolibre.com/tag/gulag.html">gulag</a></li><li class="list-group-item"><a href="https://movimientolibre.com/tag/hardware.html">hardware</a></li><li class="list-group-item"><a href="https://movimientolibre.com/tag/jupyter.html">jupyter</a></li><li class="list-group-item"><a href="https://movimientolibre.com/tag/kde.html">kde</a></li><li class="list-group-item"><a href="https://movimientolibre.com/tag/kernel-linux.html">kernel linux</a></li><li class="list-group-item"><a href="https://movimientolibre.com/tag/latex.html">latex</a></li><li class="list-group-item"><a href="https://movimientolibre.com/tag/markdown.html">markdown</a></li><li class="list-group-item"><a href="https://movimientolibre.com/tag/network.html">network</a></li><li class="list-group-item"><a href="https://movimientolibre.com/tag/php.html">php</a></li><li class="list-group-item"><a href="https://movimientolibre.com/tag/politica.html">política</a></li><li class="list-group-item"><a href="https://movimientolibre.com/tag/postgresql.html">postgresql</a></li><li class="list-group-item"><a href="https://movimientolibre.com/tag/python.html">python</a></li><li class="list-group-item"><a href="https://movimientolibre.com/tag/ruby.html">ruby</a></li><li class="list-group-item"><a href="https://movimientolibre.com/tag/servidores.html">servidores</a></li><li class="list-group-item"><a href="https://movimientolibre.com/tag/software-libre.html">software libre</a></li><li class="list-group-item"><a href="https://movimientolibre.com/tag/vida-cotidiana.html">vida cotidiana</a></li><li class="list-group-item"><a href="https://movimientolibre.com/tag/wallpapers.html">wallpapers</a></li>        </ul>
    </div>
</div>                </aside>
            </div>
        </div>
    </div>
<footer class="text-muted">
    <div class="container">
        <p>
            Copyright &copy; 2006-2025 Guillermo Valdés Lozano.
            Protegidos por la licencia <a href="https://movimientolibre.com/licencias/gfdl-es/">GFDL</a>.
            Se otorga permiso para copiar, distribuir y/o modificar estos documentos.
            Sitio web elaborado con <a href="https://blog.getpelican.com/">Pelican</a> que es programado en <a href="https://python.org/">Python</a>; el código fuente está en <a href="https://github.com/MovimientoLibre/plataforma.web">GitHub</a> protegido por la licencia <a href="https://movimientolibre.com/licencias/gpl-2-es/">GPLv3</a>.
        </p>
    </div>
</footer>    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.3/js/bootstrap.min.js" integrity="sha512-OvBgP9A2JBgiRad/mM36mkzXSXaJE9BEIENnVEmeZdITvwT09xnxLtT4twkCa8m/loMbPHsvPl0T8lRGVBwjlQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://movimientolibre.com/theme/js/navigation.js"></script>
</body>
</html>